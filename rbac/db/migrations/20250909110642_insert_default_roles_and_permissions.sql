-- +goose Up
-- +goose StatementBegin

-- Вставляем базовые права доступа
INSERT INTO permissions (id, resource, action) VALUES
-- Права для работы с пользователями
('550e8400-e29b-41d4-a716-446655440001', 'users', 'read'),
('550e8400-e29b-41d4-a716-446655440002', 'users', 'write'),

-- Права для работы с ролями
('550e8400-e29b-41d4-a716-446655440003', 'roles', 'read'),
('550e8400-e29b-41d4-a716-446655440004', 'roles', 'write'),

-- Права для работы с расписанием
('550e8400-e29b-41d4-a716-446655440005', 'schedule', 'read'),
('550e8400-e29b-41d4-a716-446655440006', 'schedule', 'write'),

-- Права для работы с классами
('550e8400-e29b-41d4-a716-446655440007', 'classes', 'read'),
('550e8400-e29b-41d4-a716-446655440008', 'classes', 'write'),

-- Права для работы с предметами
('550e8400-e29b-41d4-a716-446655440009', 'subjects', 'read'),
('550e8400-e29b-41d4-a716-446655440010', 'subjects', 'write'),

-- Права для работы с учителями
('550e8400-e29b-41d4-a716-446655440011', 'teachers', 'read'),
('550e8400-e29b-41d4-a716-446655440012', 'teachers', 'write'),

-- Права для работы с учениками
('550e8400-e29b-41d4-a716-446655440013', 'students', 'read'),
('550e8400-e29b-41d4-a716-446655440014', 'students', 'write'),

-- Права для работы с аудиториями
('550e8400-e29b-41d4-a716-446655440015', 'rooms', 'read'),
('550e8400-e29b-41d4-a716-446655440016', 'rooms', 'write'),

-- Права для работы с уведомлениями
('550e8400-e29b-41d4-a716-446655440017', 'notifications', 'read'),
('550e8400-e29b-41d4-a716-446655440018', 'notifications', 'write');

-- Вставляем базовые роли
INSERT INTO roles (id, name, description) VALUES
('650e8400-e29b-41d4-a716-446655440001', 'admin', 'Администратор системы - полный доступ ко всем ресурсам'),
('650e8400-e29b-41d4-a716-446655440002', 'teacher', 'Учитель - доступ к расписанию, классам, ученикам'),
('650e8400-e29b-41d4-a716-446655440003', 'student', 'Ученик - доступ к своему расписанию'),
('650e8400-e29b-41d4-a716-446655440004', 'parent', 'Родитель - доступ к расписанию своего ребенка'),
('650e8400-e29b-41d4-a716-446655440005', 'moderator', 'Модератор - доступ к управлению контентом');

-- Назначаем права роли admin (все права)
INSERT INTO role_permissions (role_id, permission_id)
SELECT '650e8400-e29b-41d4-a716-446655440001', id FROM permissions;

-- Назначаем права роли teacher
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440006'), -- schedule:write
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440007'), -- classes:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440008'), -- classes:write
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440009'), -- subjects:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440011'), -- teachers:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440013'), -- students:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440015'), -- rooms:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440017'), -- notifications:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440018'); -- notifications:write

-- Назначаем права роли student
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440009'), -- subjects:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440011'), -- teachers:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440015'), -- rooms:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440017'); -- notifications:read

-- Назначаем права роли parent
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440009'), -- subjects:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440011'), -- teachers:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440013'), -- students:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440015'), -- rooms:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440017'); -- notifications:read

-- Назначаем права роли moderator
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440001'), -- users:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440002'), -- users:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440003'), -- roles:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440006'), -- schedule:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440007'), -- classes:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440008'), -- classes:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440009'), -- subjects:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440010'), -- subjects:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440011'), -- teachers:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440012'), -- teachers:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440013'), -- students:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440014'), -- students:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440015'), -- rooms:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440016'), -- rooms:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440017'), -- notifications:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440018'); -- notifications:write

-- +goose StatementEnd
