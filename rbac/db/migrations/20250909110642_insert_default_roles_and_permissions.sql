-- +goose Up
-- +goose StatementBegin

-- Вставляем базовые права доступа
INSERT INTO permissions (id, resource, action) VALUES
-- Права для работы с пользователями
('550e8400-e29b-41d4-a716-446655440001', 'user', 'read'),
('550e8400-e29b-41d4-a716-446655440002', 'user', 'write'),

-- Права для работы с ролями
('550e8400-e29b-41d4-a716-446655440003', 'role', 'read'),
('550e8400-e29b-41d4-a716-446655440004', 'role', 'write'),

-- Права для работы с расписанием
('550e8400-e29b-41d4-a716-446655440005', 'schedule', 'read'),
('550e8400-e29b-41d4-a716-446655440006', 'schedule', 'write'),

-- Права для работы с классами
('550e8400-e29b-41d4-a716-446655440007', 'class', 'read'),
('550e8400-e29b-41d4-a716-446655440008', 'class', 'write'),

-- Права для работы с предметами
('550e8400-e29b-41d4-a716-446655440009', 'subject', 'read'),
('550e8400-e29b-41d4-a716-446655440010', 'subject', 'write'),

-- Права для работы с учителями
('550e8400-e29b-41d4-a716-446655440011', 'teacher', 'read'),
('550e8400-e29b-41d4-a716-446655440012', 'teacher', 'write'),

-- Права для работы с учениками
('550e8400-e29b-41d4-a716-446655440013', 'student', 'read'),
('550e8400-e29b-41d4-a716-446655440014', 'student', 'write'),

-- Права для работы с аудиториями
('550e8400-e29b-41d4-a716-446655440015', 'room', 'read'),
('550e8400-e29b-41d4-a716-446655440016', 'room', 'write'),

-- Права для работы с уведомлениями
('550e8400-e29b-41d4-a716-446655440017', 'notification', 'read'),
('550e8400-e29b-41d4-a716-446655440018', 'notification', 'write'),

-- Права для работы с правами доступа
('550e8400-e29b-41d4-a716-446655440019', 'permission', 'read'),

-- Права для работы со связями роль-право
('550e8400-e29b-41d4-a716-446655440020', 'role_permission', 'write'),

-- Права для работы со связями пользователь-роль
('550e8400-e29b-41d4-a716-446655440021', 'user_role', 'read'),
('550e8400-e29b-41d4-a716-446655440022', 'user_role', 'write');

-- Вставляем базовые роли
INSERT INTO roles (id, name, description) VALUES
('650e8400-e29b-41d4-a716-446655440001', 'admin', 'Администратор системы - полный доступ ко всем ресурсам'),
('650e8400-e29b-41d4-a716-446655440002', 'teacher', 'Учитель - доступ к расписанию, классам, ученикам'),
('650e8400-e29b-41d4-a716-446655440003', 'student', 'Ученик - доступ к своему расписанию'),
('650e8400-e29b-41d4-a716-446655440004', 'parent', 'Родитель - доступ к расписанию своего ребенка'),
('650e8400-e29b-41d4-a716-446655440005', 'moderator', 'Модератор - доступ к управлению контентом');

-- Назначаем права роли admin (все права)
INSERT INTO role_permissions (role_id, permission_id)
SELECT '650e8400-e29b-41d4-a716-446655440001', id FROM permissions;

-- Назначаем права роли teacher
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440006'), -- schedule:write
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440007'), -- class:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440008'), -- class:write
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440009'), -- subject:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440011'), -- teacher:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440013'), -- student:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440015'), -- room:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440017'), -- notification:read
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440018'), -- notification:write
('650e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440019'); -- permission:read

-- Назначаем права роли student
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440009'), -- subject:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440011'), -- teacher:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440015'), -- room:read
('650e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440017'); -- notification:read

-- Назначаем права роли parent
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440009'), -- subject:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440011'), -- teacher:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440013'), -- student:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440015'), -- room:read
('650e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440017'); -- notification:read

-- Назначаем права роли moderator
INSERT INTO role_permissions (role_id, permission_id) VALUES
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440001'), -- user:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440002'), -- user:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440003'), -- role:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440004'), -- role:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440005'), -- schedule:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440006'), -- schedule:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440007'), -- class:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440008'), -- class:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440009'), -- subject:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440010'), -- subject:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440011'), -- teacher:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440012'), -- teacher:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440013'), -- student:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440014'), -- student:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440015'), -- room:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440016'), -- room:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440017'), -- notification:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440018'), -- notification:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440019'), -- permission:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440020'), -- role_permission:write
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440021'), -- user_role:read
('650e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440022'); -- user_role:write

-- +goose StatementEnd
