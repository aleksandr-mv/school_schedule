# ===============================
# POSTGRESQL КОНФИГУРАЦИЯ для IAM
# ===============================

# Базовые настройки для развития
shared_buffers = '256MB'
effective_cache_size = '1GB'
maintenance_work_mem = '64MB'
work_mem = '4MB'

# Checkpoint настройки
checkpoint_completion_target = 0.9
wal_buffers = '16MB'

# Логирование
log_line_prefix = '[%t] %q%u@%d/%a '
log_min_duration_statement = 100  # Логируем медленные запросы > 100ms

# Connection настройки
max_connections = 100

# WAL настройки (минимальные)
wal_level = 'minimal'

# Для будущей миграции в Kubernetes:
# Репликация будет настроена через PostgreSQL Operator